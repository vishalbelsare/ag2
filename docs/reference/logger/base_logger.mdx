---
sidebarTitle: base_logger
title: logger.base_logger
---

## BaseLogger

```python
class BaseLogger(ABC)
```

### start

```python
@abstractmethod
def start() -> str
```

Open a connection to the logging database, and start recording.

**Returns**:

- `session_id` _str_ - a unique id for the logging session

### log\_chat\_completion

```python
@abstractmethod
def log_chat_completion(invocation_id: uuid.UUID, client_id: int,
                        wrapper_id: int, source: Union[str, Agent],
                        request: Dict[str, Union[float, str, List[Dict[str,
                                                                       str]]]],
                        response: Union[str, ChatCompletion], is_cached: int,
                        cost: float, start_time: str) -> None
```

Log a chat completion to database.

In AutoGen, chat completions are somewhat complicated because they are handled by the `autogen.oai.OpenAIWrapper` class.
One invocation to `create` can lead to multiple underlying OpenAI calls, depending on the llm_config list used, and
any errors or retries.

**Arguments**:

- `invocation_id` _uuid_ - A unique identifier for the invocation to the OpenAIWrapper.create method call
- `client_id` _int_ - A unique identifier for the underlying OpenAI client instance
- `wrapper_id` _int_ - A unique identifier for the OpenAIWrapper instance
- `source` _str or Agent_ - The source/creator of the event as a string name or an Agent instance
- `request` _dict_ - A dictionary representing the request or call to the OpenAI client endpoint
- `response` _str or ChatCompletion_ - The response from OpenAI
- `is_cached` _int_ - 1 if the response was a cache hit, 0 otherwise
- `cost(float)` - The cost for OpenAI response
- `start_time` _str_ - A string representing the moment the request was initiated

### log\_new\_agent

```python
@abstractmethod
def log_new_agent(agent: ConversableAgent, init_args: Dict[str, Any]) -> None
```

Log the birth of a new agent.

**Arguments**:

- `agent` _ConversableAgent_ - The agent to log.
- `init_args` _dict_ - The arguments passed to the construct the conversable agent

### log\_event

```python
@abstractmethod
def log_event(source: Union[str, Agent], name: str,
              **kwargs: Dict[str, Any]) -> None
```

Log an event for an agent.

**Arguments**:

- `source` _str or Agent_ - The source/creator of the event as a string name or an Agent instance
- `name` _str_ - The name of the event
- `kwargs` _dict_ - The event information to log

### log\_new\_wrapper

```python
@abstractmethod
def log_new_wrapper(
        wrapper: OpenAIWrapper,
        init_args: Dict[str, Union[LLMConfig, List[LLMConfig]]]) -> None
```

Log the birth of a new OpenAIWrapper.

**Arguments**:

- `wrapper` _OpenAIWrapper_ - The wrapper to log.
- `init_args` _dict_ - The arguments passed to the construct the wrapper

### log\_new\_client

```python
@abstractmethod
def log_new_client(client: Union[AzureOpenAI, OpenAI], wrapper: OpenAIWrapper,
                   init_args: Dict[str, Any]) -> None
```

Log the birth of a new OpenAIWrapper.

**Arguments**:

- `wrapper` _OpenAI_ - The OpenAI client to log.
- `init_args` _dict_ - The arguments passed to the construct the client

### log\_function\_use

```python
@abstractmethod
def log_function_use(source: Union[str, Agent], function: F,
                     args: Dict[str, Any], returns: Any) -> None
```

Log the use of a registered function (could be a tool)

**Arguments**:

- `source` _str or Agent_ - The source/creator of the event as a string name or an Agent instance
- `function` _F_ - The function information
- `args` _dict_ - The function args to log
- `returns` _any_ - The return

### stop

```python
@abstractmethod
def stop() -> None
```

Close the connection to the logging database, and stop logging.

### get\_connection

```python
@abstractmethod
def get_connection() -> Union[None, sqlite3.Connection]
```

Return a connection to the logging database.

